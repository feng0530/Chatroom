CREATE TABLE MEMBER (
    MEMBER_ID NUMBER PRIMARY KEY,
    NAME VARCHAR2(50) NOT NULL,
    EMAIL VARCHAR2(50) NOT NULL,
    PASSWORD VARCHAR2(255) NOT NULL,
    GENDER CHAR(1) NOT NULL CHECK (GENDER IN ('0', '1')),
    PHONE VARCHAR2(10),
    BIRTHDAY DATE,
    PHOTO VARCHAR2(255),
    LOGIN_STATUS CHAR(1) NOT NULL CHECK (LOGIN_STATUS IN ('0', '1')),
    MEMBER_STATUS CHAR(1) NOT NULL CHECK (MEMBER_STATUS IN ('0', '1', '2')),
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
COMMENT ON TABLE MEMBER IS '此表格儲存會員資訊';

COMMENT ON COLUMN MEMBER.MEMBER_ID IS '每位會員的唯一識別符';
COMMENT ON COLUMN MEMBER.NAME IS '會員姓名';
COMMENT ON COLUMN MEMBER.EMAIL IS '會員電子郵箱';
COMMENT ON COLUMN MEMBER.PASSWORD IS '會員密碼';
COMMENT ON COLUMN MEMBER.GENDER IS '會員性別（0: 女，1: 男）';
COMMENT ON COLUMN MEMBER.PHONE IS '會員電話號碼';
COMMENT ON COLUMN MEMBER.BIRTHDAY IS '會員生日';
COMMENT ON COLUMN MEMBER.PHOTO IS '會員照片的 URL 或路徑';
COMMENT ON COLUMN MEMBER.LOGIN_STATUS IS '會員登錄狀態（0: 未登錄，1: 已登錄）';
COMMENT ON COLUMN MEMBER.MEMBER_STATUS IS '會員狀態（0: 未驗證，1: 已驗證，2: 第三方）';
COMMENT ON COLUMN MEMBER.CREATE_TIME IS '創建時間';
COMMENT ON COLUMN MEMBER.UPDATE_TIME IS '最後更新時間';

INSERT INTO C##Frank.member (member_id, name, email, password, gender, login_status, member_status) VALUES
('1', 'Fanny', 'ze871022@gmail.com', '123456', '0', '0', '1');
INSERT INTO C##Frank.member (member_id, name, email, password, gender, login_status, member_status) VALUES
('2', 'Frank', 'fff80705@gmail.com', '123456', '1', '0', '1');


CREATE TABLE FRIEND_LIST (
    ID NUMBER PRIMARY KEY,
    MEMBER NUMBER(10),
    FRIEND NUMBER(10),
    STATUS CHAR(1) NOT NULL CHECK (STATUS IN ('0', '1', '2')),
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    FOREIGN KEY (MEMBER) REFERENCES MEMBER(MEMBER_ID),
    FOREIGN KEY (FRIEND) REFERENCES MEMBER(MEMBER_ID)
);
COMMENT ON TABLE FRIEND_LIST IS '此表格儲存好友清單資訊';

COMMENT ON COLUMN FRIEND_LIST.ID IS '每個好友清單的唯一識別符';
COMMENT ON COLUMN FRIEND_LIST.MEMBER IS '會員識別ID';
COMMENT ON COLUMN FRIEND_LIST.FRIEND IS '好友識別ID';
COMMENT ON COLUMN FRIEND_LIST.STATUS IS '好友狀態（0: 待確認，1: 已確認，2: 已取消）';
COMMENT ON COLUMN FRIEND_LIST.CREATE_TIME IS '創建時間';
COMMENT ON COLUMN FRIEND_LIST.UPDATE_TIME IS '最後更新時間';


CREATE TABLE MANAGER(
    MANAGER_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NAME VARCHAR2(30) NOT NULL,
    ACCOUNT VARCHAR2(30) NOT NULL,
    PASSWORD VARCHAR2(30) NOT NULL,
    ROLE VARCHAR2(30) NOT NULL,
    CREATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,
    UPDATE_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL
);
COMMENT ON TABLE MANAGER IS '此表格儲存管理員資訊';

COMMENT ON COLUMN MANAGER.MANAGER_ID IS '每位管理員的唯一識別符';
COMMENT ON COLUMN MANAGER.NAME IS '管理員姓名';
COMMENT ON COLUMN MANAGER.ACCOUNT IS '管理員帳號';
COMMENT ON COLUMN MANAGER.PASSWORD IS '管理員密碼';
COMMENT ON COLUMN MANAGER.ROLE IS '管理員角色';
COMMENT ON COLUMN MANAGER.CREATE_TIME IS '創建時間';
COMMENT ON COLUMN MANAGER.UPDATE_TIME IS '最後更新時間';

INSERT INTO MANAGER VALUES (DEFAULT,'Admin', 'admin', '123456', 'ADMIN', DEFAULT, DEFAULT);
